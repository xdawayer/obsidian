---
title: OpenClaw HR 数字员工 — 产品需求文档 (PRD)
date: 2026-03-01
tags: [AI, OpenClaw, HR, PRD, Agent, 数字员工, 产品需求]
aliases: [HR Agent PRD, HR数字员工PRD]
---

# OpenClaw HR 数字员工 — 产品需求文档 (PRD)

> [!abstract] 文档概述
> 本文档是 **AI HR 数字员工** 的完整产品需求文档，基于 OpenClaw 平台构建，旨在为中小企业提供智能化招聘与人力资源管理解决方案。
>
> **文档版本**：v1.0
> **最后更新**：2026-03-01
> **负责人**：产品团队
> **状态**：Draft

---

## 1. 产品概述

### 1.1 基本信息

| 属性 | 说明 |
|------|------|
| **产品名称** | AI HR 数字员工 |
| **产品代号** | HR-Agent / 慧招 |
| **产品定位** | 基于 OpenClaw 的企业级 AI HR 助手 |
| **目标用户** | 中小企业 HR 团队、招聘经理、创业公司 |
| **核心价值** | 自动化招聘流程、提升效率、降低人力成本 |
| **技术底座** | OpenClaw Agent Framework |

### 1.2 产品愿景

> [!quote] 愿景
> 让每一家企业都拥有一位 7x24 小时在线的 AI 招聘助理，将 HR 从重复性事务中解放出来，专注于更具战略价值的人才决策。

### 1.3 核心价值主张

- **效率提升**：将简历筛选时间从平均 30 分钟/份降低至 30 秒/份
- **成本节约**：减少 60% 的初筛人力投入
- **质量提升**：基于数据驱动的候选人匹配，减少主观偏差
- **体验优化**：候选人获得即时响应，提升雇主品牌形象
- **全流程覆盖**：从职位发布到候选人入职的端到端自动化

---

## 2. 产品背景与目标

### 2.1 市场痛点分析

> [!warning] 当前招聘市场的核心痛点

**痛点一：简历筛选效率低下**
- 一个普通招聘岗位平均收到 200-500 份简历
- HR 平均每份简历花费 6-30 秒初筛，优质候选人极易被遗漏
- 高峰期 HR 每天需处理上千份简历，疲劳导致判断失误

**痛点二：招聘流程碎片化**
- 简历来源分散在多个平台（BOSS直聘、猎聘、拉勾、脉脉等）
- 候选人信息散落在邮件、微信、Excel 中，难以统一管理
- 面试安排依赖人工协调，经常出现时间冲突

**痛点三：中小企业 HR 资源有限**
- 创业公司通常只有 1-2 名 HR，甚至由 CEO 兼任
- 缺乏专业的 ATS（Applicant Tracking System）预算
- 无法负担猎头费用，但又急需快速招到合适人才

**痛点四：候选人体验差**
- 投递简历后长时间无响应
- 面试流程不透明，不知道进展到哪一步
- 沟通方式不统一，信息容易丢失

### 2.2 竞品分析

| 维度 | 传统 ATS (Greenhouse/Lever) | AI 招聘工具 (HireVue/Moka) | **AI HR 数字员工 (本产品)** |
|------|---|---|---|
| **部署方式** | SaaS 云端 | SaaS 云端 | 私有化 / 混合部署 |
| **价格** | $6,000-$50,000/年 | ¥30,000-200,000/年 | 开源免费 + 按量付费 LLM |
| **AI 能力** | 基础关键词匹配 | 简历解析 + 视频面试分析 | 全流程 AI Agent 自主决策 |
| **自定义能力** | 有限 | 中等 | 高度可定制（OpenClaw Skills） |
| **集成能力** | API 接口丰富 | 主流平台适配 | OpenClaw Channel 全平台适配 |
| **数据隐私** | 数据在第三方 | 数据在第三方 | 数据完全自主可控 |
| **学习成本** | 高 | 中 | 低（自然语言交互） |
| **适用规模** | 中大型企业 | 中大型企业 | 中小企业 / 创业公司 |

> [!tip] 差异化优势
> 本产品的核心差异化在于：**基于 OpenClaw 的 Agent 架构**，让 AI 不仅是工具，而是一个能主动思考、自主行动的"数字员工"。它可以理解上下文、记忆历史对话、主动推进招聘流程，而不仅仅是被动响应指令。

### 2.3 产品目标（可量化 KPI）

| 指标 | 目标值 | 衡量方式 |
|------|--------|----------|
| 简历筛选效率 | 提升 10x（从 30 min 到 3 min/份含人工确认） | 筛选耗时对比 |
| 候选人匹配准确率 | > 80% 的推荐候选人进入面试 | 推荐通过率 |
| 面试安排自动化率 | > 90% 的面试无需人工协调 | 自动安排占比 |
| 候选人响应时间 | < 5 分钟（工作时间） | 首次响应延迟 |
| 招聘周期缩短 | 缩短 40%（从平均 45 天到 27 天） | 平均招聘周期 |
| HR 满意度 | > 4.5/5 | 用户调研评分 |
| 系统可用性 | > 99.5% | 运行时间监控 |

---

## 3. 用户画像

### 3.1 画像一：HR 经理 — 李雪

> [!example] 用户画像 #1
>
> | 属性 | 详情 |
> |------|------|
> | **姓名** | 李雪 |
> | **年龄** | 32 岁 |
> | **职位** | HR 经理 |
> | **公司** | 中型互联网公司（200 人规模） |
> | **工作年限** | 8 年 HR 经验 |
> | **管理团队** | 3 名招聘专员 |
> | **月招聘量** | 15-25 人 |
>
> **核心痛点**：
> - 团队工作量大，简历筛选占用了大量时间
> - 希望有工具帮助标准化面试流程
> - 需要数据报表来向上级汇报招聘效果
> - 对 AI 持开放态度，但关注数据安全
>
> **期望**：
> - 一键生成招聘报表
> - AI 自动完成初筛，她只需做最终决策
> - 各平台消息统一管理

### 3.2 画像二：招聘专员 — 张明

> [!example] 用户画像 #2
>
> | 属性 | 详情 |
> |------|------|
> | **姓名** | 张明 |
> | **年龄** | 26 岁 |
> | **职位** | 招聘专员 |
> | **公司** | 同上 |
> | **工作年限** | 3 年 |
> | **负责领域** | 技术岗位招聘 |
> | **月处理简历** | 500+ 份 |
>
> **核心痛点**：
> - 每天花 4-5 小时在简历筛选上，枯燥且容易遗漏
> - 不同技术岗位的要求差异大，难以全面评估
> - 面试安排经常需要反复协调时间
> - 候选人跟进容易遗忘
>
> **期望**：
> - AI 帮助完成 80% 的简历初筛
> - 自动生成针对性的面试问题
> - 面试日程自动安排和提醒
> - 候选人状态一目了然

### 3.3 画像三：创业公司 CEO — 王铭

> [!example] 用户画像 #3
>
> | 属性 | 详情 |
> |------|------|
> | **姓名** | 王铭 |
> | **年龄** | 35 岁 |
> | **职位** | CEO & 联合创始人 |
> | **公司** | 种子轮 AI 创业公司（15 人） |
> | **招聘频率** | 不定期，急需时集中招聘 |
> | **特点** | 技术背景，没有专职 HR |
>
> **核心痛点**：
> - 没有专职 HR，招聘完全靠自己和联合创始人
> - 时间极度有限，无法花大量时间在招聘上
> - 创业公司吸引力有限，需要高质量的 JD 和候选人沟通
> - 预算有限，无法使用昂贵的招聘工具
>
> **期望**：
> - 一个"AI HR"帮他处理所有招聘事务
> - 只需在关键节点做决策（面试、录用）
> - 成本可控，最好按量付费
> - 快速上手，不需要复杂配置

### 3.4 用户故事 (User Stories)

> [!note] 核心用户故事

**简历管理**
- 作为 HR，我希望系统能自动解析上传的简历并提取关键信息，以便我不用手动录入候选人数据
- 作为 HR，我希望能通过自然语言搜索人才库（如"找 3 年以上 Python 后端经验的候选人"），以便快速定位合适人选

**候选人匹配**
- 作为招聘专员，我希望系统能根据 JD 自动对简历进行评分和排名，以便我优先处理最匹配的候选人
- 作为 CEO，我希望系统能解释为什么推荐某个候选人，以便我理解 AI 的判断依据

**面试管理**
- 作为 HR 经理，我希望系统能自动生成针对特定岗位和候选人的面试问题，以便面试官有高质量的问题参考
- 作为招聘专员，我希望系统能自动协调面试官和候选人的时间并发送邀请，以便我不用手动安排

**沟通自动化**
- 作为 HR，我希望系统能自动起草候选人沟通邮件（初筛通知、面试邀请、拒绝信等），以便我只需审核和发送
- 作为 CEO，我希望能通过微信/飞书直接与 AI HR 对话来了解招聘进展，以便随时掌握情况

**数据分析**
- 作为 HR 经理，我希望系统能生成招聘漏斗报表，以便我分析哪个环节存在瓶颈
- 作为 CEO，我希望能看到招聘效率和成本的趋势图，以便做出资源分配决策

---

## 4. 功能需求 (Feature Requirements)

### 4.1 P0 — 核心功能 (Must Have)

> [!important] P0 功能是 MVP 的组成部分，必须在第一个版本中实现

#### 4.1.1 简历解析与结构化存储

**功能描述**：
- 支持解析 PDF、Word、图片格式的简历
- 自动提取：姓名、联系方式、教育背景、工作经历、技能标签、项目经历
- 结构化存储到数据库，支持后续检索和匹配
- 支持中英文简历

**技术要点**：
- 使用 LLM 进行智能简历解析（而非传统 NLP 规则）
- 向量化存储简历文本，支持语义搜索
- 支持批量上传和解析

**验收标准**：
- [ ] 支持 PDF / DOCX / PNG / JPG 格式简历上传
- [ ] 关键字段提取准确率 > 90%
- [ ] 单份简历解析时间 < 10 秒
- [ ] 解析结果可人工修正

#### 4.1.2 候选人智能匹配与评分

**功能描述**：
- 根据职位描述（JD）自动匹配人才库中的候选人
- 多维度评分：技能匹配度、经验匹配度、教育匹配度、综合评分
- 支持自定义评分权重
- 生成匹配报告，说明推荐理由

**技术要点**：
- 基于向量相似度 + LLM 综合判断
- 支持硬性条件过滤（学历、工作年限等）+ 软性匹配（潜力、文化契合度等）
- 评分可解释，提供详细的匹配分析

**验收标准**：
- [ ] 推荐 Top 10 候选人中至少 8 人被 HR 认可（进入面试）
- [ ] 匹配结果在 30 秒内返回
- [ ] 提供可读的匹配分析报告

#### 4.1.3 面试问题自动生成

**功能描述**：
- 根据 JD 和候选人简历自动生成面试问题
- 支持多种面试类型：技术面、行为面、文化面
- 生成评分标准和参考答案
- 面试问题可由面试官调整

**技术要点**：
- LLM 结合岗位要求和候选人背景生成个性化问题
- 内置面试最佳实践知识库
- 支持 STAR 方法论的行为面试问题

**验收标准**：
- [ ] 每个候选人生成 10-15 个面试问题
- [ ] 问题涵盖技术能力、软技能、文化匹配
- [ ] 面试官满意度 > 4/5

#### 4.1.4 招聘邮件/消息自动起草

**功能描述**：
- 根据场景自动生成沟通文案：
  - 初筛通过通知
  - 面试邀请
  - 面试反馈
  - Offer 邮件
  - 婉拒信
- 支持个性化定制（插入候选人姓名、岗位等）
- 多语言支持（中英文）

**验收标准**：
- [ ] 覆盖招聘全流程 6 种以上沟通场景
- [ ] 文案质量经 HR 审核通过率 > 85%
- [ ] 支持一键发送（集成邮件/消息通道）

#### 4.1.5 人才库管理与搜索

**功能描述**：
- 统一存储所有候选人信息
- 支持多维度筛选和搜索
- 自然语言搜索支持（"找有大厂经验的前端开发"）
- 候选人标签管理
- 候选人状态跟踪（新建、初筛、面试中、Offer、拒绝、入职、淘汰）

**验收标准**：
- [ ] 自然语言搜索结果相关性 > 85%
- [ ] 搜索响应时间 < 2 秒
- [ ] 支持至少 10,000 份候选人档案

---

### 4.2 P1 — 重要功能 (Should Have)

> [!note] P1 功能在核心功能稳定后的迭代中实现

#### 4.2.1 多平台消息集成

- 微信（企业微信）集成
- 飞书集成
- 钉钉集成
- Telegram 集成
- 通过 OpenClaw Channel 适配器统一接入

#### 4.2.2 日程安排与面试提醒

- 对接 Google Calendar / 飞书日历 / Outlook
- 自动检测面试官空闲时段
- 向候选人发送面试时间选择
- 面试前自动发送提醒
- 面试结束后自动收集反馈

#### 4.2.3 候选人跟踪状态管理

- 可视化招聘看板（Kanban 风格）
- 候选人在各阶段的自动流转
- 超时提醒（候选人在某阶段停留过久）
- 历史操作记录

#### 4.2.4 数据分析与招聘报表

- 招聘漏斗分析
- 渠道效果分析
- 招聘周期分析
- 面试官评估分析
- 自动生成周报/月报

---

### 4.3 P2 — 增值功能 (Nice to Have)

> [!hint] P2 功能作为长期规划

#### 4.3.1 视频面试辅助
- 视频面试录制与回放
- AI 实时生成面试摘要
- 候选人表情与情绪分析（需明确告知候选人）

#### 4.3.2 薪酬分析建议
- 基于市场数据的薪酬区间建议
- 候选人期望薪酬合理性分析
- 内部薪酬公平性检测

#### 4.3.3 员工画像与团队匹配
- 基于现有团队画像推荐互补型人才
- 团队文化匹配度评估
- 新人融入预测

#### 4.3.4 自动背景调查
- 学历验证
- 工作经历验证
- 社交媒体画像分析

---

## 5. 技术架构

### 5.1 系统架构图

```
┌─────────────────────────────────────────────────────────────────┐
│                        用户触点层                                │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐          │
│  │  微信/    │ │  飞书    │ │  钉钉    │ │ Telegram │          │
│  │  企业微信 │ │          │ │          │ │          │          │
│  └────┬─────┘ └────┬─────┘ └────┬─────┘ └────┬─────┘          │
│       └──────┬─────┴──────┬─────┴──────┬──────┘               │
│              │            │            │                        │
│  ┌───────────▼────────────▼────────────▼───────────┐           │
│  │          OpenClaw Channel 适配器层              │           │
│  │     (统一消息接入 / 协议转换 / 路由分发)        │           │
│  └─────────────────────┬───────────────────────────┘           │
└────────────────────────┼───────────────────────────────────────┘
                         │
┌────────────────────────▼───────────────────────────────────────┐
│                    OpenClaw Gateway                             │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                 Agent 编排引擎                           │   │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐             │   │
│  │  │ AGENTS.md│  │ SOUL.md  │  │ SKILLS/  │             │   │
│  │  │ 操作指令 │  │ 人格设定 │  │ 技能集   │             │   │
│  │  └──────────┘  └──────────┘  └──────────┘             │   │
│  │                                                         │   │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐             │   │
│  │  │ MEMORY   │  │ IDENTITY │  │ TOOLS    │             │   │
│  │  │ 记忆系统 │  │ 身份定义 │  │ 工具集   │             │   │
│  │  └──────────┘  └──────────┘  └──────────┘             │   │
│  └─────────────────────┬───────────────────────────────────┘   │
│                        │                                        │
│  ┌─────────────────────▼───────────────────────────────────┐   │
│  │              LLM Provider 调度层                         │   │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐             │   │
│  │  │ Claude   │  │ GPT-4o   │  │ DeepSeek │             │   │
│  │  └──────────┘  └──────────┘  └──────────┘             │   │
│  └─────────────────────────────────────────────────────────┘   │
└────────────────────────┬───────────────────────────────────────┘
                         │
┌────────────────────────▼───────────────────────────────────────┐
│                     业务服务层 (FastAPI)                        │
│  ┌────────────┐ ┌────────────┐ ┌────────────┐ ┌────────────┐ │
│  │ 简历解析   │ │ 候选人匹配 │ │ 面试管理   │ │ 邮件起草   │ │
│  │ Service    │ │ Service    │ │ Service    │ │ Service    │ │
│  └─────┬──────┘ └─────┬──────┘ └─────┬──────┘ └─────┬──────┘ │
│        └───────┬──────┴───────┬──────┴───────┬───────┘        │
│                │              │              │                  │
│  ┌─────────────▼──────────────▼──────────────▼─────────────┐  │
│  │                     数据访问层                           │  │
│  └─────────────┬──────────────┬──────────────┬─────────────┘  │
└────────────────┼──────────────┼──────────────┼─────────────────┘
                 │              │              │
    ┌────────────▼──┐  ┌───────▼──────┐  ┌───▼──────────┐
    │  PostgreSQL   │  │  ChromaDB /  │  │  SQLite      │
    │  (业务数据)   │  │  FAISS       │  │  (OpenClaw   │
    │               │  │  (向量库)    │  │   记忆)      │
    └───────────────┘  └──────────────┘  └──────────────┘
```

### 5.2 技术栈选择

| 层次 | 技术选型 | 选型理由 |
|------|----------|----------|
| **Agent 运行时** | OpenClaw Gateway | 统一的 Agent 生命周期管理，内置记忆和技能系统 |
| **LLM** | Claude 3.5 Sonnet / GPT-4o / DeepSeek V3 | 多模型支持，按场景选择最优模型 |
| **后端框架** | Python + FastAPI | 高性能异步框架，AI 生态完善 |
| **Agent 框架** | LangChain / LangGraph | 成熟的 Agent 编排框架，工具链丰富 |
| **业务数据库** | PostgreSQL | 可靠的关系型数据库，支持 JSONB |
| **向量数据库** | ChromaDB / FAISS | ChromaDB 易部署，FAISS 高性能 |
| **记忆存储** | SQLite (OpenClaw 内置) | OpenClaw 标准记忆方案 |
| **消息通道** | OpenClaw Channel 适配器 | 统一多平台消息接入 |
| **文件存储** | MinIO / 本地文件系统 | 简历文件和附件存储 |
| **前端 (可选)** | React + Ant Design | 管理后台和招聘看板 |
| **部署** | Docker + Docker Compose | 一键部署，环境一致性 |

### 5.3 API 设计

> [!info] RESTful API 设计

```
# 候选人管理
POST   /api/v1/candidates           # 创建候选人（上传简历）
GET    /api/v1/candidates           # 获取候选人列表
GET    /api/v1/candidates/{id}      # 获取候选人详情
PUT    /api/v1/candidates/{id}      # 更新候选人信息
DELETE /api/v1/candidates/{id}      # 删除候选人
POST   /api/v1/candidates/search    # 语义搜索候选人

# 职位管理
POST   /api/v1/jobs                 # 创建职位
GET    /api/v1/jobs                 # 获取职位列表
GET    /api/v1/jobs/{id}            # 获取职位详情
PUT    /api/v1/jobs/{id}            # 更新职位
DELETE /api/v1/jobs/{id}            # 删除职位
POST   /api/v1/jobs/{id}/match      # 匹配候选人

# 面试管理
POST   /api/v1/interviews           # 创建面试
GET    /api/v1/interviews           # 获取面试列表
PUT    /api/v1/interviews/{id}      # 更新面试
POST   /api/v1/interviews/{id}/questions  # 生成面试问题
POST   /api/v1/interviews/{id}/feedback   # 提交面试反馈

# 邮件/消息
POST   /api/v1/messages/draft       # 起草消息
POST   /api/v1/messages/send        # 发送消息

# 分析报表
GET    /api/v1/analytics/funnel     # 招聘漏斗
GET    /api/v1/analytics/overview   # 总览数据
GET    /api/v1/analytics/report     # 生成报表

# Agent 交互
POST   /api/v1/agent/chat           # 与 Agent 对话
GET    /api/v1/agent/status         # Agent 状态
```

### 5.4 数据模型设计

详见 [[#8. 数据模型]]

### 5.5 安全与隐私考虑

> [!danger] 安全要求

**数据安全**：
- 所有候选人个人信息加密存储（AES-256）
- API 通信强制 HTTPS
- 敏感字段（手机号、邮箱、身份证）脱敏展示
- 支持数据删除（符合 GDPR / 个人信息保护法要求）

**访问控制**：
- 基于角色的访问控制（RBAC）
- API Token 认证 + JWT
- 操作日志全记录
- 支持 IP 白名单

**AI 安全**：
- LLM 输入输出过滤，防止 Prompt Injection
- Agent 行为审计日志
- 敏感操作（发送邮件、修改状态）需人工确认
- 模型输出不包含训练数据中的个人信息

---

## 6. Agent 配置

### 6.1 AGENTS.md 内容设计

```markdown
# HR Agent 操作指令

## 角色定义
你是一名专业的 AI HR 助理，名叫"慧招"。你的职责是协助企业完成招聘全流程。

## 核心职责
1. 简历解析与管理
2. 候选人智能匹配与推荐
3. 面试问题生成与面试流程管理
4. 招聘沟通文案起草
5. 招聘数据分析与报告

## 工作流程
1. 收到新职位需求 → 分析 JD → 搜索人才库 → 推荐候选人
2. 收到新简历 → 解析简历 → 评估匹配度 → 更新人才库
3. 面试安排 → 生成问题 → 发送提醒 → 收集反馈
4. 沟通需求 → 起草文案 → 等待审批 → 发送消息

## 行为准则
- 始终保持专业和友善
- 做出判断时给出理由
- 涉及敏感操作时主动请求确认
- 不确定时主动询问而非猜测
```

### 6.2 SOUL.md 人格定义

```markdown
# 慧招 — HR Agent 人格设定

## 性格特质
- 专业严谨：对招聘流程和法规有深入理解
- 热情友善：与候选人沟通时保持温暖和尊重
- 高效务实：以结果为导向，减少不必要的流程
- 细心周到：关注细节，不遗漏任何重要信息
- 公正客观：基于数据和标准做评估，减少偏见

## 沟通风格
- 对 HR 同事：简洁高效，直奔主题
- 对候选人：礼貌专业，富有人情味
- 对管理层：数据驱动，结论先行
- 在不确定时：坦诚告知，提供选项

## 价值观
- 人才是企业最宝贵的资源
- 每一位候选人都值得被尊重
- 数据辅助决策，但不替代人的判断
- 持续学习，不断优化招聘质量
```

### 6.3 Skills 配置列表

| 技能名称 | 触发条件 | 功能描述 |
|----------|----------|----------|
| `resume-parser` | 上传简历文件 | 解析简历并提取结构化数据 |
| `candidate-matcher` | 请求匹配候选人 | 基于 JD 进行候选人匹配评分 |
| `interview-generator` | 请求生成面试问题 | 根据岗位和候选人生成面试题 |
| `email-drafter` | 请求起草邮件/消息 | 生成招聘相关的沟通文案 |
| `analytics-reporter` | 请求数据分析 | 生成招聘数据报表 |
| `calendar-scheduler` | 安排面试 | 协调日程并创建日历事件 |

### 6.4 工具权限配置

```json
{
  "tools": {
    "resume_parse": { "permission": "auto", "rate_limit": "100/hour" },
    "candidate_search": { "permission": "auto", "rate_limit": "200/hour" },
    "candidate_update": { "permission": "confirm", "rate_limit": "50/hour" },
    "email_send": { "permission": "confirm", "rate_limit": "20/hour" },
    "calendar_create": { "permission": "confirm", "rate_limit": "20/hour" },
    "data_export": { "permission": "confirm", "rate_limit": "10/hour" },
    "candidate_delete": { "permission": "admin_only", "rate_limit": "10/hour" }
  }
}
```

### 6.5 记忆系统配置

- **短期记忆**：当前对话上下文（自动管理）
- **工作记忆**：当前处理的候选人/职位信息（会话级别）
- **长期记忆**：
  - 用户偏好（如 HR 的筛选习惯、评分权重）
  - 历史决策模式（哪些候选人被录用了、原因是什么）
  - 公司文化和用人标准
  - 常用的面试问题和反馈模板

---

## 7. 工作流设计

### 7.1 招聘全流程工作流

```
┌──────────┐     ┌──────────┐     ┌──────────┐     ┌──────────┐
│ 需求提出 │────▶│ 职位发布 │────▶│ 简历收集 │────▶│ 简历筛选 │
│          │     │          │     │          │     │          │
│ [人工]   │     │ [Agent]  │     │ [自动]   │     │ [Agent]  │
└──────────┘     └──────────┘     └──────────┘     └─────┬────┘
                                                         │
     ┌──────────┐     ┌──────────┐     ┌──────────┐     │
     │ 入职跟进 │◀────│ Offer    │◀────│ 终面决策 │     │
     │          │     │ 审批发放 │     │          │     │
     │ [Agent]  │     │ [人工确认│     │ [人工]   │     │
     └──────────┘     │  Agent起 │     └─────┬────┘     │
                      │  草]     │           │          │
                      └──────────┘     ┌─────┴────┐     │
                                       │ 面试安排 │◀────┘
                                       │ 与执行   │
                                       │          │
                                       │ [Agent]  │
                                       └──────────┘
```

### 7.2 各节点 Agent 行为定义

**节点 1：需求提出**
- 触发：HR/经理通过对话或表单提交招聘需求
- Agent 行为：理解需求 → 补充信息 → 生成标准化 JD → 请求确认
- 人工干预：确认 JD 内容

**节点 2：职位发布**
- 触发：JD 确认后自动触发
- Agent 行为：将 JD 格式化 → 推送到指定招聘渠道
- 自动化程度：全自动（经授权后）

**节点 3：简历收集**
- 触发：候选人投递简历
- Agent 行为：接收简历 → 解析 → 结构化存储 → 发送收到确认
- 自动化程度：全自动

**节点 4：简历筛选**
- 触发：新简历入库后自动触发
- Agent 行为：匹配评分 → 分类（推荐/待定/不合适）→ 生成筛选报告 → 推送给 HR
- 人工干预：HR 确认筛选结果

**节点 5：面试安排**
- 触发：候选人通过筛选
- Agent 行为：生成面试问题 → 协调时间 → 发送面试邀请 → 面试提醒
- 人工干预：面试官确认时间

**节点 6：终面决策**
- 触发：面试完成
- Agent 行为：汇总面试反馈 → 生成评估报告 → 提供决策建议
- 人工干预：最终录用决策

**节点 7：Offer 审批与发放**
- 触发：录用决策确定
- Agent 行为：起草 Offer 邮件 → 生成薪酬方案建议 → 请求审批 → 发送 Offer
- 人工干预：审批 Offer 内容和薪酬

**节点 8：入职跟进**
- 触发：候选人接受 Offer
- Agent 行为：发送入职指南 → 准备入职材料清单 → 提醒相关部门 → 跟进状态
- 人工干预：入职审批

### 7.3 自动化触发条件

| 事件 | 触发动作 | 自动化级别 |
|------|----------|------------|
| 新简历上传 | 自动解析 + 匹配 | 全自动 |
| 候选人通过初筛 | 起草面试邀请 | 半自动（需确认） |
| 面试时间确认 | 创建日历事件 + 发送提醒 | 全自动 |
| 面试完成 | 收集反馈 + 生成报告 | 全自动 |
| 候选人状态变更 | 发送相应通知 | 半自动（需确认） |
| 候选人 7 天未跟进 | 提醒 HR 跟进 | 全自动 |
| 职位发布 30 天无合适候选人 | 建议调整 JD | 全自动 |

---

## 8. 数据模型

### 8.1 ER 图

```
┌────────────────┐         ┌────────────────┐
│   Candidate    │         │      Job       │
├────────────────┤         ├────────────────┤
│ id (PK)        │    ┌───▶│ id (PK)        │
│ name           │    │    │ title          │
│ email          │    │    │ department     │
│ phone          │    │    │ description    │
│ resume_url     │    │    │ requirements   │
│ resume_text    │    │    │ salary_range   │
│ skills (JSON)  │    │    │ status         │
│ experience_yrs │    │    │ created_by     │
│ education      │    │    │ created_at     │
│ status         │    │    │ updated_at     │
│ tags (JSON)    │    │    └───────┬────────┘
│ embedding      │    │            │
│ created_at     │    │            │
│ updated_at     │    │            │
└───────┬────────┘    │            │
        │             │            │
        │    ┌────────┴────────┐   │
        │    │  Application    │   │
        └───▶├─────────────────┤◀──┘
             │ id (PK)         │
             │ candidate_id(FK)│
             │ job_id (FK)     │
             │ match_score     │
             │ status          │
             │ applied_at      │
             │ notes           │
             └───────┬─────────┘
                     │
              ┌──────▼─────────┐      ┌────────────────┐
              │   Interview    │      │   Evaluation   │
              ├────────────────┤      ├────────────────┤
              │ id (PK)        │      │ id (PK)        │
              │ application_id │      │ interview_id   │
              │ interviewer    │──────▶│ interviewer    │
              │ scheduled_at   │      │ score          │
              │ duration_min   │      │ strengths      │
              │ type           │      │ weaknesses     │
              │ status         │      │ recommendation │
              │ questions(JSON)│      │ notes          │
              │ meeting_link   │      │ created_at     │
              └────────────────┘      └────────────────┘
```

### 8.2 核心表结构

**candidates 表**：

| 字段 | 类型 | 说明 |
|------|------|------|
| id | UUID | 主键 |
| name | VARCHAR(100) | 姓名 |
| email | VARCHAR(255) | 邮箱（加密） |
| phone | VARCHAR(20) | 手机号（加密） |
| resume_url | TEXT | 简历文件路径 |
| resume_text | TEXT | 简历全文 |
| skills | JSONB | 技能标签列表 |
| experience_years | INTEGER | 工作年限 |
| education | VARCHAR(50) | 最高学历 |
| current_company | VARCHAR(200) | 当前公司 |
| current_title | VARCHAR(200) | 当前职位 |
| status | VARCHAR(20) | 状态 |
| tags | JSONB | 自定义标签 |
| embedding | VECTOR(1536) | 向量嵌入 |
| source | VARCHAR(50) | 简历来源 |
| created_at | TIMESTAMP | 创建时间 |
| updated_at | TIMESTAMP | 更新时间 |

**jobs 表**：

| 字段 | 类型 | 说明 |
|------|------|------|
| id | UUID | 主键 |
| title | VARCHAR(200) | 职位名称 |
| department | VARCHAR(100) | 所属部门 |
| description | TEXT | 职位描述 |
| requirements | JSONB | 岗位要求（结构化） |
| salary_min | INTEGER | 薪资下限 |
| salary_max | INTEGER | 薪资上限 |
| location | VARCHAR(100) | 工作地点 |
| job_type | VARCHAR(20) | 全职/兼职/实习 |
| status | VARCHAR(20) | 开放/暂停/关闭 |
| created_by | UUID | 创建人 |
| embedding | VECTOR(1536) | 向量嵌入 |
| created_at | TIMESTAMP | 创建时间 |
| updated_at | TIMESTAMP | 更新时间 |

---

## 9. 非功能需求

### 9.1 性能要求

| 指标 | 要求 |
|------|------|
| 简历解析延迟 | < 10 秒/份 |
| 候选人匹配延迟 | < 30 秒/次 |
| 搜索响应时间 | < 2 秒 |
| Agent 对话响应 | < 5 秒（首字） |
| API 吞吐量 | > 100 QPS |
| 并发用户支持 | > 50 同时在线 |

### 9.2 安全要求

- 数据传输全程 HTTPS/TLS 1.3
- 个人敏感信息 AES-256 加密存储
- 密码 bcrypt 哈希
- API 认证：JWT Token（有效期 24h）
- RBAC 权限模型
- SQL 注入防护
- XSS 防护
- 审计日志保留 90 天
- 数据备份每日一次，保留 30 天

### 9.3 可用性要求

- 系统可用性 > 99.5%
- 数据恢复时间 (RTO) < 4 小时
- 数据恢复点 (RPO) < 1 小时
- 支持灰度发布和回滚
- 健康检查 + 自动重启

### 9.4 兼容性要求

- 浏览器：Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- 移动端：通过消息平台（微信/飞书/钉钉）原生支持
- API：RESTful, JSON 格式，向后兼容
- 数据导出：支持 CSV / Excel / JSON 格式

---

## 10. 里程碑与排期

### Phase 1：MVP（第 1-2 周）

> [!success] 基础简历解析 + 候选人匹配

| 任务 | 工时 | 负责人 | 交付物 |
|------|------|--------|--------|
| 项目初始化 & OpenClaw 配置 | 1d | 全栈 | 项目骨架 |
| 简历解析服务开发 | 3d | 后端 | 简历解析 API |
| 候选人数据模型 & API | 2d | 后端 | CRUD API |
| 向量化存储 & 语义搜索 | 2d | 后端 | 搜索功能 |
| 候选人匹配算法 | 3d | 后端/AI | 匹配引擎 |
| Agent 基础对话 | 2d | 全栈 | Agent 对话功能 |
| 测试 & 修复 | 2d | 全栈 | 测试报告 |

### Phase 2：核心功能（第 3-4 周）

> [!success] 面试管理 + 邮件自动化

| 任务 | 工时 | 负责人 | 交付物 |
|------|------|--------|--------|
| 职位管理模块 | 2d | 后端 | 职位 CRUD API |
| 面试问题生成 | 3d | 后端/AI | 面试问题引擎 |
| 邮件/消息自动起草 | 2d | 后端/AI | 文案生成服务 |
| 面试流程管理 | 3d | 后端 | 面试管理 API |
| Agent Skills 开发 | 2d | 全栈 | 4 个核心 Skills |
| 集成测试 | 2d | QA | 测试报告 |

### Phase 3：集成（第 5-6 周）

> [!success] 多平台消息 + 日历集成

| 任务 | 工时 | 负责人 | 交付物 |
|------|------|--------|--------|
| 微信/企业微信 Channel | 3d | 后端 | 微信集成 |
| 飞书 Channel | 2d | 后端 | 飞书集成 |
| 日历集成 | 2d | 后端 | 日历功能 |
| React 管理后台 | 5d | 前端 | Web 界面 |
| 端到端测试 | 2d | QA | 测试报告 |

### Phase 4：优化（第 7-8 周）

> [!success] 数据分析 + 性能优化

| 任务 | 工时 | 负责人 | 交付物 |
|------|------|--------|--------|
| 数据分析模块 | 3d | 后端 | 分析 API |
| 招聘报表 | 2d | 前端/后端 | 报表功能 |
| 性能优化 | 3d | 后端 | 性能报告 |
| 安全加固 | 2d | 全栈 | 安全审计报告 |
| 文档完善 | 2d | 全栈 | 完整文档 |
| 上线准备 | 2d | DevOps | 部署方案 |

---

## 11. 验收标准

### 11.1 功能验收

> [!check] 功能验收清单

- [ ] 简历上传与解析功能正常，支持 PDF/DOCX/图片格式
- [ ] 候选人信息正确提取并存储，准确率 > 90%
- [ ] 候选人匹配评分功能正常，推荐准确率 > 80%
- [ ] 面试问题自动生成功能正常，覆盖技术面/行为面/文化面
- [ ] 招聘邮件自动起草功能正常，覆盖 6+ 场景
- [ ] 人才库搜索功能正常，支持自然语言查询
- [ ] Agent 对话功能正常，能理解和执行 HR 相关指令
- [ ] 多平台消息集成（至少支持微信/飞书之一）
- [ ] 面试日程安排与提醒功能正常
- [ ] 数据分析报表功能正常

### 11.2 性能验收

> [!check] 性能验收清单

- [ ] 简历解析延迟 < 10 秒
- [ ] 搜索响应时间 < 2 秒
- [ ] API 吞吐量 > 100 QPS
- [ ] Agent 对话首字响应 < 5 秒
- [ ] 系统在 50 并发用户下稳定运行
- [ ] 数据库查询无慢查询（> 1 秒）
- [ ] 内存使用 < 4GB（不含 LLM）

### 11.3 安全验收

> [!check] 安全验收清单

- [ ] 所有 API 需认证后访问
- [ ] 敏感数据加密存储
- [ ] 无 SQL 注入漏洞
- [ ] 无 XSS 漏洞
- [ ] 审计日志完整记录所有操作
- [ ] 数据备份与恢复测试通过
- [ ] Agent 行为符合预设规则，无越权操作
- [ ] LLM 输入输出过滤正常，无 Prompt Injection 风险

---

## 附录

### A. 术语表

| 术语 | 说明 |
|------|------|
| **OpenClaw** | 开源 AI Agent 框架，提供 Agent 生命周期管理 |
| **ATS** | Applicant Tracking System，候选人跟踪系统 |
| **JD** | Job Description，职位描述 |
| **STAR** | Situation-Task-Action-Result，行为面试方法论 |
| **RAG** | Retrieval-Augmented Generation，检索增强生成 |
| **Embedding** | 向量嵌入，将文本转换为高维向量 |

### B. 参考文档

- [[docs/OpenClaw 完整技术架构与应用详解|OpenClaw 完整技术架构与应用详解]]
- [[docs/OpenClaw-HR-Agent-项目工程|HR Agent 项目工程设计]]

### C. 变更记录

| 版本 | 日期 | 变更内容 | 变更人 |
|------|------|----------|--------|
| v1.0 | 2026-03-01 | 初始版本 | 产品团队 |

---

#AI #OpenClaw #HR #PRD #Agent #数字员工 #产品需求
